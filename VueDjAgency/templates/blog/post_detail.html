{% extends 'base.html' %}

{% load static %}

{% block title %}
  post_detail.html
{% endblock %}

{% block extra-style %}
<style>
  .my-img-h300{
    width: 100%;
    height: 300px;
    object-fit: cover;
  }

  .my-content{
    white-space: pre-wrap;
  }

  .my-link:hover{
    cursor: pointer;
    font-style: italic;
  }
</style>

{% endblock %}

{% block content %}
  <!-- Post Detail Grid -->
  <section class="page-section" id="post">
    <div class="container">
      <div class="row">
        <!-- Post title -->
        <h1 class="fw-bolder mb-1">[[ post.title ]]</h1>
        <hr />
        <p>
          <span>[[ post.update_dt ]]</span>&emsp;
          <i class="fas fa-copyright"></i> &nbsp;
          <span>[[ post.category ]]</span>&emsp;
          <i class="fas fa-tag"></i> &nbsp;
          <span v-for="(tag, index) in post.tags" :key="index">
            <span v-if="index !== 0">,</span>
            <span>[[ tag ]]</span>
          </span>&emsp;
          <i class="fas fa-heart"></i> &nbsp;
          <span>[[ post.like ]]</span>&emsp;
        </p>
        <hr />
      </div>
      <div class="row">
        <div class="col-lg-8">
          <!-- Post content -->
          <article>
            <!-- Preview image figure -->
            <figure class="mb-4">
              <img class="img-fluid rounded my-img-h300" :src="post.image" alt="..." />
            </figure>
            <!-- Post content -->
            <div class="mb-5">
              <p class="fs-5 mb-4 my-content">[[ post.content ]]</p>
            </div>
          </article>
          <!-- Comments section -->
          <div class="mb-5">
            <div class="card bg-light">
              <div class="card-body">
                <!-- Comment form -->
                <form class="mb-4">
                  <textarea class="form-control" rows="3" placeholder="Join the discussion and leave a comment!"></textarea>
                </form>
                <!-- Comment with nested comments -->
                <div class="d-flex mb-4">
                  <!-- Parent comment -->
                  <div class="flex-shrink-0">
                    <img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." />
                  </div>
                  <div class="ms-3">
                    <div class="fw-bold">2023-09-11 15:30:54</div>
                    If you're going to lead a space frontier, it has to be government; it'll never be private enterprise. Because the space frontier is dangerous, and it's expensive, and it has unquantified risks.
                  </div>
                </div>
                <!-- Single comment -->
                <div class="d-flex">
                  <div class="flex-shrink-0">
                    <img class="rounded-circle" src="https://dummyimage.com/50x50/ced4da/6c757d.jpg" alt="..." />
                  </div>
                  <div class="ms-3">
                    <div class="fw-bold">Commenter Name</div>When I look at the universe and all the ways the universe wants to kill us, I find it hard to reconcile that with statements of beneficence.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Side widgets -->
        <div class="col-lg-4">
          <!-- Categories widget -->
          <div class="card mb-4">
            <div class="card-header">Prev Post</div>
            <div class="card-body">
              <h5 class="text-primary my-link" @click="fetchPostDetail(prevPost.id)">[[ prevPost.title ]]</h5>
            </div>
          </div>
                    <!-- Categories widget -->
                    <div class="card mb-4">
                      <div class="card-header">Next Post</div>
                      <div class="card-body">
                        <h5 class="text-primary my-link" @click="fetchPostDetail(nextPost.id)">[[ nextPost.title ]]</h5>
                      </div>
                    </div>
          <!-- Categories widget -->
          <div class="card mb-4">
            <div class="card-header">Tag Cloud</div>
            <div class="card-body">
              <div class="row">
                <div class="col-sm-6">
                  <ul class="list-unstyled mb-0">
                    <li>
                      <a href="#!">Web Design</a>
                    </li>
                    <li>
                      <a href="#!">HTML</a>
                    </li>
                    <li>
                      <a href="#!">Freebies</a>
                    </li>
                  </ul>
                </div>
                <div class="col-sm-6">
                  <ul class="list-unstyled mb-0">
                    <li>
                      <a href="#!">JavaScript</a>
                    </li>
                    <li>
                      <a href="#!">CSS</a>
                    </li>
                    <li>
                      <a href="#!">Tutorials</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <!-- Side widget -->
          <div class="card mb-4">
            <div class="card-header">Side Widget</div>
            <div class="card-body">You can put anything you want inside of these side widgets. They are easy to use, and feature the Bootstrap 5 card component!</div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra-script %}
  {% include 'include/post_detail_vue.html'%}
{% endblock %}